<form [formGroup]="form" class="reset-password-form">
    <fieldset [disabled]="loading" class="border-0 p-0 m-0">

        <div class="mb-3" *ngIf="isRequestMode">
            <ad-input formControlName="email" type="email" placeholder="Email" icon="fas fa-envelope">
            </ad-input>
            <small class="text-danger" *ngIf="form.get('email')?.invalid && form.get('email')?.touched">
                Inserisci un'email valida
            </small>
        </div>

        <div class="mb-3" *ngIf="!isRequestMode">
            <ad-input formControlName="newPassword" type="password" placeholder="Nuova Password" icon="fas fa-lock"
                [showPasswordToggle]="true">
            </ad-input>
            <small class="text-danger"
                *ngIf="form.get('newPassword')?.touched && form.get('newPassword')?.errors?.['minlength']">
                La password deve essere di almeno 8 caratteri
            </small>
        </div>

        <div class="mb-4" *ngIf="!isRequestMode">
            <ad-input formControlName="confirmPassword" type="password" placeholder="Conferma Password"
                icon="fas fa-lock" [showPasswordToggle]="true">
            </ad-input>
            <small class="text-danger" *ngIf="form.get('confirmPassword')?.touched && form.errors?.['mismatch']">
                Le password non coincidono
            </small>
        </div>

        <div class="d-flex justify-content-end gap-2">
            <ad-button label="Annulla" severity="secondary" [outlined]="true" (onClick)="onCancel()">
            </ad-button>
            <ad-button [label]="isRequestMode ? 'Invia Email' : 'Salva Password'" severity="primary"
                [disabled]="form.invalid || loading" [loading]="loading" (onClick)="onSave()">
            </ad-button>
        </div>
    </fieldset>
</form>